{"version":3,"file":"redgoose.js","sources":["../src/js/util.js","../src/js/preference.js","../src/js/Header.js","../src/js/Index.js","../src/js/Article.js","../src/js/etc.js","../src/js/redgoose.js"],"sourcesContent":["\n/**\n * Get window size\n *\n * @return {Object}\n */\nexport function getWindowSize()\n{\n\treturn {\n\t\twidth: window.innerWidth,\n\t\theight: window.innerHeight\n\t};\n}\n\n\n/**\n * is touch device\n *\n * @return {Boolean}\n */\nexport function isTouchDevice()\n{\n\treturn 'ontouchstart' in window || navigator.maxTouchPoints;\n}\n\n\n/**\n * sleep\n *\n * @param {Number} delay\n * @return {Promise}\n */\nexport function sleep(delay)\n{\n\treturn new Promise(function(resolve) {\n\t\tsetTimeout(resolve, delay);\n\t});\n}\n\n\n/**\n * printf\n *\n * @param {String} str\n * @param {String} values\n */\nexport function printf(str, ...values)\n{\n\tfor (let i = 0; i < values.length; i++)\n\t{\n\t\tlet pattern = `\\\\{${i}\\\\}`;\n\t\tlet replace = new RegExp(pattern, 'g');\n\t\tstr = str.replace(replace, values[i]);\n\t}\n\treturn str;\n}","\n// set size\nexport const SIZE_MOBILE = 640;\nexport const SIZE_TABLET = 768;\nexport const SIZE_ARTICLE = 900;\n\n\n","import $ from 'jQuery';\nimport * as util from './util';\nimport * as preference from './preference';\n\n\n/**\n * Header\n */\nexport default function Header()\n{\n\tconst self = this;\n\tthis.$header = $('.layout-header');\n\tthis.$gnb = this.$header.find('.gnb');\n\n\t/**\n\t * Toggle gnb from mobile\n\t */\n\tfunction toggleGnbFromMobile()\n\t{\n\t\tself.$header.find('.toggle-gnb').on('click', function() {\n\t\t\t$(this).toggleClass('toggle-gnb-active');\n\t\t\tself.$gnb.toggleClass('gnb-active');\n\t\t});\n\t}\n\n\t/**\n\t * gnb event for touch\n\t * 터치 디바이스이며 모바일보다 큰 사이즈라면 터치 작동에 대한 대응\n\t *\n\t */\n\tfunction gnbEventForTouch()\n\t{\n\t\tif (util.isTouchDevice() && preference.SIZE_MOBILE < util.getWindowSize().width)\n\t\t{\n\t\t\tself.$gnb.find('.gnb__dep-1 > li > a').on('click', false);\n\t\t}\n\t}\n\n\n\tthis.init = function()\n\t{\n\t\tgnbEventForTouch();\n\t\ttoggleGnbFromMobile();\n\t}\n\n}","import $ from 'jQuery';\nimport Masonry from 'Masonry';\n\nimport * as util from './util';\n\n\nexport default function Index(parent)\n{\n\tconst self = this;\n\n\tthis.srls = {};\n\tthis.selector_articles = '#articles';\n\tthis.$index = $('.index');\n\tthis.$articles = this.$index.find('.index__articles');\n\tthis.$category = this.$index.find('.index__categories');\n\tthis.$more = this.$index.find('.index__loadMore');\n\tthis.masonry = null;\n\n\t// masonry\n\tfunction masonry()\n\t{\n\t\tself.$articles.addClass('masonry');\n\t\tself.masonry = new Masonry(self.selector_articles, {\n\t\t\titemSelector: '.grid-item',\n\t\t\tcolumnWidth: '.grid-sizer',\n\t\t\ttransitionDuration : '0s',\n\t\t\thiddenStyle : {},\n\t\t\tvisibleStyle : {}\n\t\t});\n\t}\n\n\t// more articles\n\tasync function moreArticles(page)\n\t{\n\t\t// turn on loading\n\t\tmoreButton(false);\n\n\t\t// TODO: call ajax\n\t\tawait util.sleep(1000);\n\n\t\t// TODO 데이터 가져오기\n\n\t\t// turn off loading\n\t\tmoreButton(true);\n\n\t\treturn false;\n\t}\n\n\t// more load articles\n\tfunction loadMoreTrigger()\n\t{\n\t\tmoreArticles(parseInt(this.getAttribute('nextPage'))).then();\n\t\treturn false;\n\t}\n\n\t/**\n\t * control more button\n\t *\n\t * @param {Boolean} sw\n\t */\n\tfunction moreButton(sw)\n\t{\n\t\t// toggle category\n\t\tfunction toggleCategory()\n\t\t{\n\t\t\t$(this).toggleClass('categories__toggle-active');\n\t\t\t$(this).next().toggleClass('categories__index-active');\n\t\t}\n\n\t\tif (sw)\n\t\t{\n\t\t\tself.$more.children('a').on('click', loadMoreTrigger);\n\t\t\tself.$more.removeClass('loadMore-loading');\n\t\t}\n\t\telse\n\t\t{\n\t\t\tself.$more.children('a').off('click', loadMoreTrigger);\n\t\t\tself.$more.addClass('loadMore-loading');\n\t\t}\n\t}\n\n\t/**\n\t * init\n\t *\n\t * @param {Object} options\n\t */\n\tthis.init = function(options={})\n\t{\n\t\tif (!this.$articles.length) return false;\n\n\t\t// set srls\n\t\tthis.srls.nest = options.nest_srl;\n\t\tthis.srls.category = options.category_srl;\n\n\t\t// set toggle category for mobile\n\t\tthis.$category.children('.categories__toggle').on('click', toggleCategory);\n\n\t\t// set masonry\n\t\tmasonry();\n\n\t\t// set more articles event\n\t\tmoreButton(true);\n\n\t\t// set change page sensor\n\t\t// TODO\n\t}\n\n}","export default function Article()\n{\n\n}","\n\n/**\n * init google analytics\n *\n * @param {Boolean} sw\n */\nexport function initGoogleAnalytics(sw)\n{\n\tif (!sw) return null;\n\n\t// Google Analytics\n\t(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n\t\t(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n\t\tm=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n\t})(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n\tga('create', 'UA-42563094-1', 'redgoose.me');\n\tga('send', 'pageview');\n}","import Header from './Header';\nimport Index from './Index';\nimport Article from './Article';\nimport * as etc from './etc';\n\n\n/**\n * Redgoose\n *\n * @param {Object} options\n */\nfunction Redgoose(options)\n{\n\n\t// TODO: default options 만들어서 `options`와 합치기\n\n\t// init header\n\tthis.header = new Header(this);\n\n\t// init index\n\tthis.index = new Index(this);\n\n\t// init article\n\tthis.article = new Article(this);\n\n\t// init google analytics\n\tetc.initGoogleAnalytics(false);\n\n}\n\n\nexport default Redgoose;"],"names":["getWindowSize","window","innerWidth","innerHeight","isTouchDevice","navigator","maxTouchPoints","sleep","delay","Promise","resolve","SIZE_MOBILE","Header","self","$header","$","$gnb","find","toggleGnbFromMobile","on","toggleClass","gnbEventForTouch","util","preference","width","init","Index","parent","srls","selector_articles","$index","$articles","$category","$more","masonry","addClass","Masonry","moreArticles","page","loadMoreTrigger","parseInt","getAttribute","then","moreButton","sw","children","removeClass","off","options","length","nest","nest_srl","category","category_srl","toggleCategory","Article","initGoogleAnalytics","i","s","o","g","r","a","m","q","push","arguments","l","Date","createElement","getElementsByTagName","async","src","parentNode","insertBefore","document","Redgoose","header","index","article"],"mappings":";;;;;;;;;AACA;;;;;AAKA,AAAO,SAASA,aAAT,GACP;SACQ;WACCC,OAAOC,UADR;YAEED,OAAOE;GAFhB;;;;;;;;AAYD,AAAO,SAASC,aAAT,GACP;SACQ,kBAAkBH,MAAlB,IAA4BI,UAAUC,cAA7C;;;;;;;;;AAUD,AAAO,SAASC,KAAT,CAAeC,KAAf,EACP;SACQ,IAAIC,OAAJ,CAAY,UAASC,OAAT,EAAkB;eACzBA,OAAX,EAAoBF,KAApB;GADM,CAAP;;;;;;;;;;ACjCD;AACA,AAAO,MAAMG,cAAc,GAApB;;ACGP;;;AAGA,AAAe,SAASC,MAAT,GACf;OACOC,OAAO,IAAb;MACKC,OAAL,GAAeC,EAAE,gBAAF,CAAf;MACKC,IAAL,GAAY,KAAKF,OAAL,CAAaG,IAAb,CAAkB,MAAlB,CAAZ;;;;;UAKSC,mBAAT,GACA;OACMJ,OAAL,CAAaG,IAAb,CAAkB,aAAlB,EAAiCE,EAAjC,CAAoC,OAApC,EAA6C,YAAW;KACrD,IAAF,EAAQC,WAAR,CAAoB,mBAApB;QACKJ,IAAL,CAAUI,WAAV,CAAsB,YAAtB;GAFD;;;;;;;;UAWQC,gBAAT,GACA;MACKC,aAAA,MAAwBC,WAAA,GAAyBD,aAAA,GAAqBE,KAA1E,EACA;QACMR,IAAL,CAAUC,IAAV,CAAe,sBAAf,EAAuCE,EAAvC,CAA0C,OAA1C,EAAmD,KAAnD;;;;MAKGM,IAAL,GAAY,YACZ;;;EADA;;;ACjCc,SAASC,KAAT,CAAeC,MAAf,EACf;OACOd,OAAO,IAAb;;MAEKe,IAAL,GAAY,EAAZ;MACKC,iBAAL,GAAyB,WAAzB;MACKC,MAAL,GAAcf,EAAE,QAAF,CAAd;MACKgB,SAAL,GAAiB,KAAKD,MAAL,CAAYb,IAAZ,CAAiB,kBAAjB,CAAjB;MACKe,SAAL,GAAiB,KAAKF,MAAL,CAAYb,IAAZ,CAAiB,oBAAjB,CAAjB;MACKgB,KAAL,GAAa,KAAKH,MAAL,CAAYb,IAAZ,CAAiB,kBAAjB,CAAb;MACKiB,OAAL,GAAe,IAAf;;;UAGSA,OAAT,GACA;OACMH,SAAL,CAAeI,QAAf,CAAwB,SAAxB;OACKD,OAAL,GAAe,IAAIE,OAAJ,CAAYvB,KAAKgB,iBAAjB,EAAoC;iBACpC,YADoC;gBAErC,aAFqC;uBAG7B,IAH6B;gBAIpC,EAJoC;iBAKnC;GALD,CAAf;;;;gBAUcQ,YAAf,CAA4BC,IAA5B,EACA;;aAEY,KAAX;;;QAGMhB,KAAA,CAAW,IAAX,CAAN;;;;;aAKW,IAAX;;SAEO,KAAP;;;;UAIQiB,eAAT,GACA;eACcC,SAAS,KAAKC,YAAL,CAAkB,UAAlB,CAAT,CAAb,EAAsDC,IAAtD;SACO,KAAP;;;;;;;;UAQQC,UAAT,CAAoBC,EAApB,EACA;;MAQKA,EAAJ,EACA;QACMX,KAAL,CAAWY,QAAX,CAAoB,GAApB,EAAyB1B,EAAzB,CAA4B,OAA5B,EAAqCoB,eAArC;QACKN,KAAL,CAAWa,WAAX,CAAuB,kBAAvB;GAHD,MAMA;QACMb,KAAL,CAAWY,QAAX,CAAoB,GAApB,EAAyBE,GAAzB,CAA6B,OAA7B,EAAsCR,eAAtC;QACKN,KAAL,CAAWE,QAAX,CAAoB,kBAApB;;;;;;;;;MASGV,IAAL,GAAY,UAASuB,UAAQ,EAAjB,EACZ;MACK,CAAC,KAAKjB,SAAL,CAAekB,MAApB,EAA4B,OAAO,KAAP;;;OAGvBrB,IAAL,CAAUsB,IAAV,GAAiBF,QAAQG,QAAzB;OACKvB,IAAL,CAAUwB,QAAV,GAAqBJ,QAAQK,YAA7B;;;OAGKrB,SAAL,CAAea,QAAf,CAAwB,qBAAxB,EAA+C1B,EAA/C,CAAkD,OAAlD,EAA2DmC,cAA3D;;;;;;aAMW,IAAX;;;;EAfD;;;ACtFc,SAASC,OAAT,GACf;;ACCA;;;;;AAKA,AAAO,SAASC,mBAAT,CAA6BZ,EAA7B,EACP;KACK,CAACA,EAAL,EAAS,OAAO,IAAP;;;EAGR,UAASa,CAAT,EAAWC,CAAX,EAAaC,CAAb,EAAeC,CAAf,EAAiBC,CAAjB,EAAmBC,CAAnB,EAAqBC,CAArB,EAAuB;IAAG,uBAAF,IAA2BF,CAA3B,CAA6BJ,EAAEI,CAAF,IAAKJ,EAAEI,CAAF,KAAM,YAAU;IACzEJ,EAAEI,CAAF,EAAKG,CAAL,GAAOP,EAAEI,CAAF,EAAKG,CAAL,IAAQ,EAAhB,EAAoBC,IAApB,CAAyBC,SAAzB;GADqD,EAChBT,EAAEI,CAAF,EAAKM,CAAL,GAAO,IAAE,IAAIC,IAAJ,EADO,CACIN,IAAEJ,EAAEW,aAAF,CAAgBV,CAAhB,CAAF,EACzDI,IAAEL,EAAEY,oBAAF,CAAuBX,CAAvB,EAA0B,CAA1B,CADuD,CAC1BG,EAAES,KAAF,GAAQ,CAAR,CAAUT,EAAEU,GAAF,GAAMZ,CAAN,CAAQG,EAAEU,UAAF,CAAaC,YAAb,CAA0BZ,CAA1B,EAA4BC,CAA5B;EAFlD,EAGG9D,MAHH,EAGU0E,QAHV,EAGmB,QAHnB,EAG4B,yCAH5B,EAGsE,IAHtE;IAIG,QAAH,EAAa,eAAb,EAA8B,aAA9B;IACG,MAAH,EAAW,UAAX;;;ACXD;;;;;AAKA,SAASC,QAAT,CAAkB5B,OAAlB,EACA;;;;;MAKM6B,MAAL,GAAc,IAAIjE,MAAJ,CAAW,IAAX,CAAd;;;MAGKkE,KAAL,GAAa,IAAIpD,KAAJ,CAAU,IAAV,CAAb;;;MAGKqD,OAAL,GAAe,IAAIxB,OAAJ,CAAY,IAAZ,CAAf;;;oBAGA,CAAwB,KAAxB;;;;;;;;;"}