parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"JJek":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sleep=t,exports.serialize=o,exports.setCookie=n,exports.isTouchDevice=void 0;var e=function(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}};function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise(function(n){var i=this;o?(clearTimeout(o),o=setTimeout(function(){n(t,o)},e)):setTimeout(function(){n(t,i)},e)})}function o(e){var t,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];for(var i in e)e.hasOwnProperty(i)&&n.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return(t=n.join("&"))&&o?"?".concat(t):t}function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/",i=new Date;i.setTime(i.getTime()+24*o*60*60*1e3),document.cookie="".concat(e,"=").concat(t,";expires=").concat(i.toUTCString(),";path=").concat(n)}exports.isTouchDevice=e;
},{}],"m9T2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.get=exports.init=void 0;var e=t(require("./util"));function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var r=null,n=function(e){r=e};exports.init=n;var o=function(t,n){return new Promise(function(o,i){t=/^http/.test(t)?t:r.options.urlApi+t,$.ajax({url:t+e.serialize(n,!0),type:"get",headers:{Authorization:r.options.token}}).then(o).catch(function(){return o(null)})})};exports.get=o;
},{"./util":"JJek"}],"jNf+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=i(require("../libs/api")),t=i(require("../libs/util"));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,i):{};r.get||r.set?Object.defineProperty(t,i,r):t[i]=e[i]}return t.default=e,t}function r(i){var r=this;this.name="work",this.app=i,this.$container=$("#work"),this.$body=this.$container.find(".work__body"),this.$like=this.$container.find(".work__like"),this.loading=!1,this.work={},function(){try{if(!r.$container||!r.$container.length)throw"Not found container";r.$body&&r.$body.length&&r.$body.find("img").each(function(){$(this).wrap('<span class="image"></span>')}),r.$like&&r.$like.length&&r.$like.children("button").on("click",function(){var e=$(this);if(e.hasClass("on"))return!1;r.onLike(parseInt(this.dataset.srl)).then(function(t){e.addClass("on"),e.children("em").text(t)}).catch(alert)}),r.$container.removeClass("work--hide")}catch(e){r.app.options.debug&&console.error(e)}}(),this.onLike=function(i){var r=this;return new Promise(function(n,o){i||o(),e.get("/articles/".concat(i,"/update"),{type:"star"}).then(function(e){e.success||o("Failed update like"),t.setCookie("redgoose-like-".concat(i),"1",10,r.app.options.urlCookie),n(e.data.star)}).catch(function(e){o("string"==typeof e?e:"Service error")})})}}
},{"../libs/api":"m9T2","../libs/util":"JJek"}],"Ihg/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;var t=o(require("../Work"));function o(t){return t&&t.__esModule?t:{default:t}}function e(o,e){if(o&&e){var n=this;this.$popup=null,this.indexHistory=null,this.open=function(i,l){var p,r,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(i&&l)try{if(e.scrollTop=window.pageYOffset||document.documentElement.scrollTop,n.indexHistory={env:o.history.env,title:o.history.title,url:o.history.url},c){var d="".concat(o.options.urlRoot,"/article/").concat(i),a="".concat(l," on ").concat(o.options.title);o.history.push({url:d,title:a,srl:i,action:"open-work"},a,d)}e.toggleEvents(!1),$("html").addClass("mode-popup"),n.$popup=(p='<div class="popup">\n\t\t\t<div class="popup__body"></div>\n\t\t\t<div class="loading popup__loading">\n\t\t\t\t<div class="loading__loader">\n\t\t\t\t\t<div class="loading__shadow"></div>\n\t\t\t\t\t<div class="loading__box"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<nav class="popup__close">\n\t\t\t\t<button type="button" title="close">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<img src="'.concat(o.options.urlRoot,'/assets/images/ico-close.svg" class="pc" alt="close"/>\n\t\t\t\t\t\t<img src="').concat(o.options.urlRoot,'/assets/images/ico-close2.svg" class="mobile" alt="close"/>\n\t\t\t\t\t</div>\n\t\t\t\t</button>\n\t\t\t</nav>\n\t\t</div>'),(r=$(p)).children(".popup__close").on("click",function(){return n.close(!0)}),r),$("body").append(n.$popup);var u=setTimeout(function(){n.$popup&&n.$popup.children(".popup__loading").addClass("show")},200);$.get("/article/".concat(i,"?mode=popup")).then(function(e){clearTimeout(u),n.$popup.children(".popup__loading").remove(),n.$popup.children(".popup__body").append(e),o.mode="work",o.work=new t.default(o),s(!0)})}catch(v){o.options.debug&&console.error(v),alert("Failed open work."),n.close(!0)}else alert("Not found work number or title")},this.close=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{if(!n.$popup||!n.$popup.length)throw"Failed to close window.";t&&o.history.push(n.indexHistory.env,n.indexHistory.title,n.indexHistory.url),n.indexHistory=null,s(!1),o.mode="index",o.work=null,n.$popup.remove(),n.$popup=null,$("html").removeClass("mode-popup"),e.toggleEvents(!0),window.scrollTo(0,e.scrollTop)}catch(i){o.options.debug&&console.error(i),i&&"string"==typeof i&&alert(i)}}}function s(t){var e=$(window),s={left:37,right:39,esc:27,cmd:91,ctrl:17},i=!0;t?(e.off("keyup.redgoose keydown.redgoose"),e.on("keyup.redgoose",function(t){switch(t.keyCode){case s.cmd:case s.ctrl:i=!0;break;case s.left:i&&n.prev();break;case s.right:i&&n.next();break;case s.esc:"work"===o.mode&&n.close(!0)}}),e.on("keydown.redgoose",function(t){switch(t.keyCode){case s.left:case s.right:i=!0;break;default:i=!1}})):e.off("keyup.redgoose keydown.redgoose")}}
},{"../Work":"jNf+"}],"A5W8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=d;var e=r(require("../libs/api")),t=n(require("./IndexWork"));function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=100,s=300,c=100,l=60;function d(n){var r=this;function a(e){e?(r.$index.addClass("masonry").removeClass("empty"),r.masonry=new Masonry(r.index_selector,{itemSelector:".indexWorks__item",columnWidth:".indexWorks__sizer",transitionDuration:0,hiddenStyle:{},visibleStyle:{}})):(r.$index.removeClass("masonry"),r.masonry.destroy(),r.masonry=null)}function d(e){e?r.loading=setTimeout(function(){r.$loading.addClass("loading--show")},100):(r.loading&&(clearTimeout(r.loading),r.loading=null),r.$loading.removeClass("loading--show"))}function p(e){e?r.$more.addClass("indexMore--processing"):r.$more.removeClass("indexMore--processing")}function g(e,t){var n=e.map(function(e,n){var o=e.json.thumbnail&&e.json.thumbnail.sizeSet?e.json.thumbnail.sizeSet.split("*"):[1,1],a="".concat(2===parseInt(o[0])?"w2":""," ").concat(2===parseInt(o[1])?"h2":"");return t&&(a+=" ready"),'<div class="indexWorks__item'.concat(a?" "+a.trim():"",'">\n\t\t\t\t<a href="/article/').concat(e.srl,'" data-srl="').concat(e.srl,'">\n\t\t\t\t\t<img src="').concat(r.app.options.urlApi,"/").concat(e.json.thumbnail.path,'" alt="').concat(e.title,'">\n\t\t\t\t</a>\n\t\t\t</div>')}).join(""),o=$(n);return u(o),o}function h(e){function t(){var e=r.$index.children("[data-page]"),t=$(this).scrollTop(),n=null;if(!e.length)return!1;t+$(this).height()===$(document).height()?n=e.eq(e.length-1)?e.eq(e.length-1):null:(e.each(function(e){t>=$(this).offset().top-(i+5)&&(n=$(this))}),n||(n=e.eq(0))),function(e){var t=r.app.history;try{var n=new URL(window.location.href),a=n.searchParams,i=n.searchParams?n.searchParams.get("page"):null;if(e===(i=i?parseInt(i):1))return;1===e?a.delete("page"):a.set("page",e);var s=location.pathname+(a.toString()?"?".concat(a.toString()):"");r.app.options.page=e,t.replace(o({},t.env,{url:s}),t.title,s)}catch(c){}}(n&&n.length?n.data("page"):1)}e?(r.$index.children(".indexWorks__item").eq(0).attr("data-page",r.app.options.page||1),$(window).off("scroll.redgoose_index").on("scroll.redgoose_index",function(){clearTimeout(r.scrollEvent),r.scrollEvent=setTimeout(t,c)})):$(window).off("scroll.redgoose_index")}function u(e){e.each(function(){$(this).children("a").on("click",function(e){e.preventDefault();var t=parseInt(this.dataset.srl),n=$(this).find("img").attr("alt");r.work.open(t,n,!0)})})}this.name="index",this.app=n,this.work=new t.default(n,this),this.masonry=null,this.index_selector="#index",this.$categories=$("#categories"),this.$index=$(this.index_selector),this.$more=$("#index_button_more"),this.$loading=$("#index_loading"),this.loading=null,this.nest={srl:this.app.options.nest_srl,id:this.app.options.nest_id,name:this.app.options.nest_name},this.category={srl:this.app.options.category_srl,name:this.app.options.category_name},this.scrollEvent=null,this.scrollTop=0,this.changeCategory=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=r.app.options,a=null;a=t?this.$categories.find("a[data-srl=".concat(t,"]")):this.$categories.find("a").eq(0);try{if(r.$categories.find("li.on").removeClass("on"),a.parent().addClass("on"),r.category={srl:t,name:a.children("span").text()},n){var i="".concat(o.urlRoot,"/nest/").concat(r.nest.id).concat(t?"/".concat(t):""),s="".concat("All"!==r.category.name?"".concat(r.category.name," - "):"").concat(r.nest.name," - ").concat(o.title);r.app.history.push({url:i,title:s,srl:t,action:"change-category"},s,i)}r.toggleEvents(!1),d(!0),r.$index.children(".indexWorks__empty").remove(),r.$more.addClass("indexMore--hide"),e.get("/articles",{app:o.app_srl,nest:o.nest_srl,field:"srl,json,title",category:t||"",order:"srl",sort:"desc",size:parseInt(r.app.options.size)||10,ext_field:"next_page"}).then(function(e){if(!e.success)throw 404;var t=g((e=e.data).index,!1);r.$index.children(".indexWorks__item").remove(),r.$index.append(t),d(!1),r.toggleEvents(!0),e.nextPage&&(r.$more.removeClass("indexMore--hide"),r.$more.children("button").attr("data-page",e.nextPage))})}catch(p){var c=null;switch(p){case 404:c="Not found work.";break;default:console.error(p),c="Service error."}var l='<div class="indexEmpty indexWorks__empty">\n\t\t\t\t<img src="'.concat(o.urlRoot,'/assets/images/img-error.png" alt="error">\n\t\t\t\t<p>').concat(c,"</p>\n\t\t\t</div>");r.$index.children(".indexWorks__item").remove(),r.$index.addClass("empty").append(l),d(!1)}},this.changePage=function(t,n){var r=this;if(this.$more.hasClass("indexMore--processing"))return!1;try{p(!0);var o={field:"srl,json,title",app:this.app.options.app_srl,page:t,order:"srl",sort:"desc",size:parseInt(this.app.options.size)||10,ext_field:"next_page"};this.nest.srl&&(o.nest=this.nest.srl),this.category.srl&&(o.category=this.category.srl),e.get("/articles",o).then(function(e){if(!e.success)throw 404;(e=e.data).nextPage?r.$more.children("button").attr("data-page",e.nextPage):r.$more.addClass("indexMore--hide");var o=g(e.index,!0);if(r.$index.append(o),r.masonry&&r.masonry.appended(o),o.each(function(e){var t=this;setTimeout(function(){$(t).removeClass("ready")},l*e)}),n){var a=o.eq(0),c=a.offset().top-i;a.attr("data-page",t),$("html, body").stop().animate({scrollTop:c},s,"swing")}p(!1)})}catch(c){var a=null;switch(c){case 404:a="Not found work.";break;default:console.error(c),a="Service error."}alert(a),p(!1)}},this.toggleEvents=function(e){e?(r.masonry||a(!0),h(!0)):(r.masonry&&a(!1),h(!1))},function(){try{if(!Masonry)throw"Not found Masonry vendor";r.$categories&&r.$categories.length&&(r.$categories.children(".indexCategories__toggle").on("click",function(){$(this).parent().toggleClass("active")}),r.$categories.find("a").on("click",function(){if($(this).parent().hasClass("on"))return!1;var e=parseInt(this.dataset.srl);return r.changeCategory(e,!0),r.$categories.removeClass("active"),!1})),r.$index&&r.$index.children(".indexWorks__item")&&r.$index.children(".indexWorks__item").length?(r.toggleEvents(!0),u(r.$index.children(".indexWorks__item"))):r.$index.addClass("empty"),r.$more&&r.$more.length&&r.$more.children("button").on("click",function(){var e=parseInt(this.dataset.page)||null;if(!e)return!1;r.changePage(e,!0)});var e=location.pathname+location.search,t={url:e};r.nest.srl?(t.title="".concat(r.category.name?"".concat(r.category.name," - "):"").concat(r.nest.name," - ").concat(r.app.options.title),t.category_srl=r.category.srl?r.category.srl:null,t.action="change-category"):(t.title=r.app.options.title,t.action="none");r.nest.srl&&r.category.srl&&r.category.srl;r.app.history.replace(t,t.title,e)}catch(o){n.options.debug&&console.error(o),$(".container").empty().html('<article class="error">\n\t\t\t\t<figure class="error__image">\n\t\t\t\t\t<img src="'.concat(n.options.urlRoot,'/assets/images/img-error.png" alt="error">\n\t\t\t\t</figure>\n\t\t\t\t<h1 class="error__message">Service error</h1>\n\t\t\t</article>'))}}()}
},{"../libs/api":"m9T2","./IndexWork":"Ihg/"}],"Hheu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("../libs/util"));function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};i.get||i.set?Object.defineProperty(t,r,i):t[r]=e[r]}return t.default=e,t}function r(t){var r=this;this.name="header",this.app=t,this.$nav=$("#gnb"),r.$nav.find("ul > li > a").on("click",function(){return!(e.isTouchDevice()&&$(this).next().length)})}
},{"../libs/util":"JJek"}],"6vyF":[function(require,module,exports) {
"use strict";function t(t){var e=this,i=$("head > title");function n(i){var n=i.state||{};function o(){e.env=n,e.title=n.title,e.url=n.url}try{switch(n.action){case"change-category":if("work"===t.mode)return o(),t.index.work.close(!1),void(document.title=e.title);if("index"===t.mode&&t.index&&n.category_srl)return o(),void t.index.changeCategory(n.category_srl||null,!1);throw"no params";case"open-work":return"index"===t.mode?void t.index.work.open(i.state.srl,i.state.title,!1).then(o):void 0;case"none":if("work"===t.mode&&t.index.work.$popup&&t.index.work.$popup.length)return o(),t.index.work.close(!1),void(document.title=e.title);throw"no page";default:throw"none"}}catch(i){window.location.reload()}}function o(){return!!history.pushState}this.name="history",this.app=t,this.env=null,this.title=null,this.url=null,o()&&(window.removeEventListener("popstate",n),window.addEventListener("popstate",n)),this.push=function(t,e,n){o()&&n&&(this.env=t,this.title=e,this.url=n,e&&i.text(e),history.pushState(t||null,e||n,n))},this.replace=function(t,e,n){o()&&n&&(this.env=t,this.title=e,this.url=n,e&&i.text(e),history.replaceState(t||null,e||n,n))}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"nsZl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={};exports.default=e;
},{}],"NE2i":[function(require,module,exports) {

},{}],"A2T1":[function(require,module,exports) {
"use strict";var e=u(require("./Index")),t=u(require("./Work")),r=u(require("./Header")),i=u(require("./History")),n=u(require("./defaultOptions")),o=s(require("./libs/api"));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};i.get||i.set?Object.defineProperty(t,r,i):t[r]=e[r]}return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),i.forEach(function(t){l(e,t,r[t])})}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}require("../css/app.scss");var f=function s(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"index",l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(c(this,s),this.name="redgoose",this.index=null,this.work=null,this.header=new r.default(this),this.history=new i.default(this),this.mode=null,this.options=a({},n.default,l),u){case"index":this.mode="index",this.options.urlApi&&this.options.token&&o.init(this),this.index=new e.default(this);break;case"work":this.mode="view",this.options.urlApi&&this.options.token&&o.init(this),this.work=new t.default(this);break;case"none":break;default:this.mode="error",console.error("Error initialize")}};module.exports=f;
},{"./Index":"A5W8","./Work":"jNf+","./Header":"Hheu","./History":"6vyF","./defaultOptions":"nsZl","./libs/api":"m9T2","../css/app.scss":"NE2i"}]},{},["A2T1"], "Redgoose")